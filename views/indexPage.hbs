<!-- home.handlebars -->

{{!< layout}}
<h1 class="">Add User</h1>
<input class="input" type="text" name="name" id="name" placeholder="name">
<input class="input" type="text" name="email" id="email"  placeholder="email">
 
 <button id="addUserBtn" type="button" class="btn btn-outline-success btn-sm"><i class="bi-database-add"></i> Add User</button>

<hr>
<h1 class="">Users List</h1>

<table class="table table-dark table-striped">
  <thead>
    <td>First Name</td>
    <td>Last Name</td>
    <td>Email</td>
    <td>Action</td>
  </thead>
  <tbody>
    {{#each users}}
      <tr>
        <td>{{id}}: {{name}}</td>
        <td>{{lastName}}</td>
        <td>{{email}}</td>
        <td>
          <button type="button" class="btn btn-outline-info btn-sm mr-2"><i class="bi-eye-fill"></i> View</button>
          <button type="button" class="btn btn-outline-success btn-sm mr-2"><i class="bi-pencil-fill"></i> Edit</button>
          <button type="button" class="btn btn-outline-danger btn-sm"><i class="bi-trash-fill"></i> Delete</button>
        </td>
      </tr>
    {{/each}}
  </tbody>
</table>

<script>
    document.getElementById("addUserBtn")
        .addEventListener("click", e =>{
            // console.log("add new user");
            const name = document.getElementById("name").value;
             document.getElementById("name").value = "";
            const email = document.getElementById("email").value;
            document.getElementById("email").value="";
            axios.post('http://localhost:8080/addUser', {
                  name,
                  email
              })
              .then(function (response) {
                console.log(response);
              })
              .catch(function (error) {
                console.log(error);
              });
     
   
});
</script>